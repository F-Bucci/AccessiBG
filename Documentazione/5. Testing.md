
# Software Testing


# **INTRODUZIONE**

In questo documento saranno presentati i casi di test effettuati dal team.
Gli strumenti utilizzati sono:
- Per il testing:
  > Junit (Frontend, Backend, Data)
  > PlayWright (Frontend)
- Per analizzare la copertura:
  > Eclemma (Backend, Data)
  > JoCoCo (Frontend)

## Indice del documento
1. [**Testing del Frontend**](#1-testing-del-frontend)
    * 1.1. [**Organizzazione del package**](#11-organizzazione-del-package)
    * 1.2. [**Casi di test con JUnit**](#12-casi-di-test-con-junit)
    * 1.3. [**L'utilizzo di Playwright**](#13-lutilizzo-di-playwright)
    * 1.4. [**Come avviare i test di Playwright**](#14-come-avviare-i-test-di-playwright)
    * 1.5. [**Casi di test con Playwright**](#15-casi-di-test-con-playwright)
    * 1.6. [**Copertura dei test**](#16-copertura-dei-test)
2. [**Testing del Backend**](#2-testing-del-backend)
    * 2.1. [**Organizzazione del package**](#21-organizzazione-del-package)
    * 2.2. [**Casi di test con JUnit**](#22-casi-di-test-con-junit)
    * 2.3. [**Copertura dei test**](#23-copertura-dei-test)
3. [**Testing del Database**](#3-testing-del-database)
    * 3.1. [**Organizzazione del package**](#31-organizzazione-del-package)
    * 3.2. [**Casi di test con JUnit**](#32-casi-di-test-con-junit)
    * 3.3. [**Copertura dei test**](#33-copertura-dei-test)     


## 1. Testing del Frontend

L'utilizzo del framework di Vaadin ha influenzato la fase di testing siccome con JUnit puro la maggior parte del codice non poteva essere coperto ed eventuali bug potevano non essere scoperti, per esempio alcuni bug non potevano essere individuati a causa di impostazioni di sistema della macchina che veniva utilizzata per il testing.
Per risolvere questo problema il team ha consultato la documentazione fornita dal sito ufficiale di Vaadin (https://vaadin.com/docs/v24/flow/testing) e ha deciso l'utilizzo di PlayWright integrato con JUnit, una libreria Open-Source per il testing sviluppata da Microsoft [**L'utilizzo di Playwright**](#13-lutilizzo-di-playwright).


### 1.1. Organizzazione del package

I test sono organizzati parallelamente al codice sorgente nella cartella `src/test/java`.

```text
src
└── test
    └── java
        └── it
            └── unibg
                └── accessibilita
                    ├── base
                    │   └── ui
                    │       └── component
                    │         ├── AppFooterTest.java
                    │         ├── AppTabsTest.java
                    │         ├── BoxTest.java
                    │         ├── ImageCardTest.java
                    │         └── ViewToolBarTest.java
                    |             ...
                    |
                     └── e2e
                        ├── BaseE2ETest.java  
                        ├── component
                        │   └── ToggleThemeButtonIT.java
                        └── views
                            └── HomeViewIT.java
                            └── EdificiViewIT.java
                              ...
                            
   
```

## 1.2. Casi di test con JUnit

 `it.unibg.accessibilita.base.ui.component` 

|**Componente testato**| **Nome Test** | **N.Test**|**Test Effettuato**|
|-|-|-|-|
| `AppFooterTest` | `deveMostrareTestoeAnnoCorrente()` | `1` | Test per verificare che il testo sia visualizzato correttamente |
| `ImageCardTest` | `noUrl_MostraIcona()` | `1` | Test per verificare quando url == null mostra una icona; |
| `ImageCardTest` | `conUrlValido_MostraImmagine()` | `2` | Test per verificare se compare un immagine quando è presente un url |
| `ImageCardTest` | `conUrlNonValido_MostraIcona()` |`3` | Test per verificare che se l'estensione dell'url non è valida compare una icona |
| `BoxTest` | `boxConTitolo_CreaTitolo()` | `1` | Test per verificare che un Box con titolo viene creato correttamente |
| `BoxTest` | `boxSenzaTitolo_DeveEssereVuoto()` | `2` | Test per verificare che se titolo==null il Box viene inizializzato vuoto| 
| `BoxTest` | `addInfo_AggiungeRigaInfo()` | `3` | Test per verificare se viene aggiunto correnttamente il testo in una riga |
| `BoxTest` | `addParagrafo_TestoCorretto()` | `4` | Test per verificare se viene aggiunto il paragrafo con il testo corretto | 
| `GoogleMapCardTest` | `creazioneMappa()` | `1` | Test per verificare se la mappa viene creata| 
| `ViewToolbarTest` | `nonvuota()` | `1` | Test per verificare che la toolbar non sia vuota | 
| `ViewTollbarTest` | `creaComponente()` | `2` | Test per verificare che viene creato il componente dentro la ViewToolbar |
| `SelettorePianoTest` | `selettore_NonVuoto()` | `1` | Test per verificare che un selettore non sia vuoto
| `MappaInterattivaTest` | ` mappa_NonVuota()` | `1` | Test per verificare che la mappa non sia vuota
| `SelettorePianoTest` | `selettore_NonVuoto()` | `1` | Test per verificare che un selettore non sia vuoto
| `DialogMappaTest` | `dialogOstacolo_nonVuoto()` | `1` | Test per verificare che un dialog di un Ostacolo non sia vuoto
| `DialogMappaTest` | `dialogElemento_nonVuoto()` | `2` | Test per verificare che un dialog di un Elemento che non sia un ostacolo, non sia vuoto
| `AppButtonTest` | `bottone_nonVuoto()` | `1` | Test per verificare che un bottone non sia vuoto

### 1.3. L'utilizzo di Playwright

L'integrazione di Playwringht con JUnit è stata necessaria per eliminare gli ostacoli dei test unitari nell'ambiente Vaadin, infatti, Playwright verifica le possibili interazione che un utente esegue nel browser e ne verifica la funzionalità a livello visivo. Inoltre questo strumento permette di testare  l'interafaccia su diversi browser tra cui Chromium, Firefox e WebKit, dove ogni test viene eseguito in modo indipendente e non influenzato da sessioni precendenti.

### 1.4. Come avviare i test di Playwright

**Nota 1**: Playwright installerà, in maniera automatica al primo avvio, delle versioni *hermetic* (isolate) di Chromium, Firefox e WebKit.

**Nota 2**: Non necessita di installazione di nessun plugin oltre a JUnit.

**Passo 1**: Avviare l'applicazione.
`Run As` ---> `Java Application`

**Passo 2**: Avviare il test desiderato con Junit.
`Run As` ---> `JUnit Test`

*Al primo avvio verranno installati le versioni isolate dei sopracitati browser*:
apparirà quindi sullo schermo una scheda del browser utilizato per il testing dell'elemento selezionato.

**Passo 3**: Sulla view in Eclipse dedicata a JUnit apparirà una barra rossa per indicare il *Fail* del test o una barra verde che ne indica il *Successo*.

### 1.5. Casi di test con Playwright

`it.unibg.accessibilita.e2e.components`

|**Componente testato**| **Nome Test** | **N.Test**|**Test Effettuato**|
|-|-|-|-|
`ThemeToggleButtonIT` | `clickCambiaTema()` | `1` | Test per verificare il cambio di tema da Scuro o Chiaro a livello visivo |
`SelettorePianoIT` | `selezionePiano_corettaNavigazione()` | `1` | Test per verificare la corretta navigazione |
`DialogoMappaIT` | `dialogOstacolo_mostraFoto()` | `1` | Test che verifica che cliccando su un ostacolo viene mostrato un dialog con un messaggio di attenzione e una icona di pericolo |
`DialogoMappaIT` | `dialogStanza_MostraFoto()` | `2` | Test che verifica che cliccando un elemento generico questo ha una foto |
`DialogoMappaIT` | `dialogDistributore_MostraFoto()` | `3` | Test che verifica che cliccando un distributore generico questo ha una foto |

`it.unibg.accessibilita.e2e.views`

|**Componente testato**| **Nome Test** | **N.Test**|**Test Effettuato**|
|-|-|-|-|
`HomeViewIT` | `homePage_caricaCorrettamente()` | `1` | Test per verificare che l'homepage viene caricata correttamente
`HomeViewIT` | `grigliaContieneImmagini()` | `2` | Test per verificare che le ImageCard vengono visualizzate correttamente
`HomeViewIT` | `navigazioneClickImageCard()` | `3` | Test per la corretta navigazione alla views successiva tramite ImageCard
`EdificiViewIT` | `edificiView_CaricaCorrettamente()` | `1` | Test per verificare che EdificiView viene caricata correttamente
`EdificiViewIT` | `cambiaTabCorrettamente()` | `2` | Test per verificare che la tab viene cambiata correttamente quando viene cliccata
`MainLayoutIT` | `menuTendina_Presente()` | `1` | Test per verificare che il menu a tendina sia presente
`MainLayoutIT` | `navigaAllaHome()` | `2` | Test per verificare che cliccando sul pulsante home si torni alla home
`SediViewIT` | `sediView_CaricaCorrettamente` | `1` | Test per verificare che la SediView viene caricata correttamente
`SediViewIT` | `cambiaTabCorrettamente` | `2` | T Test per verificare che la tab viene cambiata correttamente quando viene cliccata
`SediViewIT` | `cambiaTabEClickImmagineCorrettamente` | `3` | Test per verificare che la tab viene cambiata correttamente
`StrutturaViewIT` | `strutturaViewCaricaCorrettamente()` | `1` | Test oer verificare che la view viene caricata correttamente

### 1.6. Copertura dei test 

Per calcolare la copertura totale del codice comprendendo anche i casi di test eseguiti con Playwright, è stato necessario l'utilizzo di JoCoCo, una libreria di copertura del codice creata dal team di EclEmmma
Per avviare tutti i test:
- Eseguire `.\mvnw clean verify`
In seguito per vedere la copertura del codice:
- Andare nella cartella in cui è stata salvata la Repository;
- Nella `accessibilita-unibg` -> `temp` -> `site` -> `jococo` -> `index.html`

Analizzando i dati:
La copertura del codice del frontend è pari al 95%. Mentre la copertura dei branch è pari al 68%

<img width="1102" height="178" alt="coveregegeneralepng" src="https://github.com/user-attachments/assets/850d8843-f471-43d5-853a-5cf60986d3ea" />


La copertura del  `it.unibg.accessibilita.base.ui.views` è pari al 97% mentre la copertura dei branch è pari al 68%

<img width="1000" height="194" alt="coveregeviews" src="https://github.com/user-attachments/assets/f9010047-29c9-446b-a249-1301c135548e" />

La copertura del `it.unibg.accessibilita.base.ui.component` è pari al 95%, mentre la copertura dei branch è pari al 79%.

<img width="1011" height="334" alt="coveregecomponenti" src="https://github.com/user-attachments/assets/450e9cc9-d0d5-4e69-819f-a34d64bd2f25" />

 ## 2. Testing del Backend

### 2.1. Organizzazione del package

I test sono organizzati parallelamente al codice sorgente nella cartella `src/test/java`.

```text
src
└── test
    └── java
        └── struttura
            ├── EdificioTest.java
            ├── PianoTest.java
            ├── SedeTest.java
            ├── ParcheggioTest.java
            ├── DistributoreTest.java
            ├── OstacoloTest.java
            ├── PuntoDiIngressoTest.java
            └── StanzaTest.java

```
## 2.2. Casi di test con JUnit

 `struttura` 

|**Componente testato**| **Nome Test** | **N.Test**|**Test Effettuato**|
|-|-|-|-|
| `EdificioTest` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `EdificioTest` | `testNomeNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `nome` diventi "Nome non specificato" |
| `EdificioTest` | `testNomeVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `nome` diventi "Nome non specificato" |
| `EdificioTest` | `testIndirizzoNull()` |`4` | Test per verificare che un valore _null_ passato all'attributo `indirizzo` diventi "Indirizzo non disponibile" |
| `EdificioTest` | `TestIndirizzoVuoto()` | `5` | Test per verificare che una stringa vuota passata all'attributo `indirizzo` diventi "Indirizzo non disponibile" |
| `EdificioTest` | `testOrarioNull()` | `6` | Test per verificare che un valore _null_ passato all'attributo `orario` diventi "Orario non specificato" | 
| `EdificioTest` | `testOrarioVuoto()` | `7` | Test per verificare che una stringa vuota passata all'attributo `orario` diventi "Orario non specificato" |
| `EdificioTest` | `testPathFotoNull()` | `8` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Foto non disponibile" | 
| `EdificioTest` | `testPathFotoVuoto()` | `9` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Foto non disponibile" | 
| `EdificioTest` | `testFacoltaNull()` | `10` | Test per verificare che un valore _null_ passato all'attributo `facolta` diventi "Facoltà non specificata" | 
| `EdificioTest` | `testFacoltaVuoto()` | `11` | Test per verificare che una stringa vuota passata all'attributo `facolta` diventi "Facoltà non specificata" |
| `EdificioTest` | `testValoriNonValidi()` | `12` | Test per verificare che tutti i controlli presenti nel costruttore agiscano insieme |
| `PianoTest` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `PianoTest` | `testDescrizioneNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `descrizione` diventi "Descrizione non presente" |
| `PianoTest` | `testDescrizioneVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `descrizione` diventi "Descrizione non presente" |
| `PianoTest` | `testPathFotoNull()` | `4` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Descrizione non presente" |
| `PianoTest` | `testPathFotoVuoto()` | `5` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Descrizione non presente" |
| `PianoTest` | `testEdificioNull()` | `6` | Test per verificare che un valore _null_ passato all'attributo `edificio` diventi "Edificio non specificato" |
| `PianoTest` | `testEdificioVuoto()` | `7` | Test per verificare che una strinva vuota passata all'attributo `edificio` diventi "Edificio non specificato" |
| `PianoTest` | `testValoriNonValidi()` | `8` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |
| `SedeTest` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `SedeTest` | `testFacoltaNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `facolta` diventi "Facoltà non specificata" |
| `SedeTest` | `testFacoltaVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `facolta` diventi "Facoltà non specificata" |
| `SedeTest` | `testIndirizzoNull()` | `4` | Test per verificare che un valore _null_ passato all'attributo `indirizzo` diventi "Indirizzo non disponibile" |
| `SedeTest` | `TestIndirizzoVuoto()` | `5` | Test per verificare che una stringa vuota passata all'attributo `indirizzo` diventi "Indirizzo non disponibile" |
| `SedeTest` | `testPathFotoNull()` | `6` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Foto non disponibile" |
| `SedeTest` | `testPathFotoVuoto()` | `7` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Foto non disponibile" |
| `SedeTest` | `testOrarioAperturaNull()` | `8` | Test per verificare che un valore _null_ passato all'attributo `orarioApertura` diventi "Orario non specificato" |
| `SedeTest` | `testOrarioAperturaVuoto()` | `9` | Test per verificare che una stringa vuota passata all'attributo `orarioApertura` diventi "Orario non specificato" |
| `SedeTest` | `testPathMapsNull()` | `10` | Test per verificare che un valore _null_ passato all'attributo `pathMaps` diventi "Mappa non disponibile" |
| `SedeTest` | `testPathMapsVuoto()` | `11` | Test per verificare che una stringa vuota passata all'attributo `pathMaps` diventi "Mappa non disponibile" |
| `SedeTest` | `testValoriNonValidi()` | `12` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |
| `ParcheggioTest` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `ParcheggioTest` | `testNomeNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `nome` diventi "Nome non specificato" |
| `ParcheggioTest` | `testNomeVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `nome` diventi "Nome non specificato" |
| `ParcheggioTest` | `testTipoParcheggioNull()` | `4` | Test per verificare che un valore _null_ passato all'attributo `tipo` diventi LIBERO |
| `ParcheggioTest` | `TestIndirizzoNull()` | `5` | Test per verificare che un valore _null_ passato all'attributo `indirizzo` diventi "Indirizzo non disponibile" |
| `ParcheggioTest` | `TestIndirizzoVuoto()` | `6` | Test per verificare che una stringa vuota passata all'attributo `indirizzo` diventi "Indirizzo non disponibile" |
| `ParcheggioTest` | `testFacoltaNull()` | `7` | Test per verificare che un valore _null_ passato all'attributo `facolta` diventi "Facoltà non specificata" |
| `ParcheggioTest` | `testFacoltaVuoto()` | `8` | Test per verificare che una stringa vuota passata all'attributo `facolta` diventi "Facoltà non specificata" |
| `ParcheggioTest` | `testPathFotoNull()` | `9` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Foto non disponibile" |
| `ParcheggioTest` | `testPathFotoVuoto()` | `10` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Foto non disponibile" |
| `ParcheggioTest` | `testValoriNonValidi()` | `11` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |
| `DistributoreTest` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `DistributoreTest` | `testNomeNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `nome` diventi "Nome non specificato" |
| `DistributoreTest` | `testNomeVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `nome` diventi "Nome non specificato" |
| `DistributoreTest` | `testDescrizioneNull()` | `4` | Test per verificare che un valore _null_ passato all'attributo `descrizione` diventi "Descrizione non presente" |
| `DistributoreTest` | `testDescrizioneVuoto()` | `5` | Test per verificare che una stringa vuota passata all'attributo `descrizione` diventi "Descrizione non presente" |
| `DistributoreTest` | `testTipoDistributoreNull()` | `6` | Test per verificare che un valore _null_ passato all'attributo `tipo` diventi SNACK_E_BEVANDE |
| `DistributoreTest` | `testPathFotoNull()` | `7` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Descrizione non presente" |
| `DistributoreTest` | `testPathFotoVuoto()` | `8` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Descrizione non presente" |
| `DistributoreTest` | `testPathPercorsoNull()` | `9` | Test per verificare che un valore _null_ passato all'attributo `pathPercorso` diventi "Descrizione non presente" |
| `DistributoreTest` | `testPathPercorsoVuoto()` | `10` | Test per verificare che una stringa vuota passata all'attributo `pathPercorso` diventi "Descrizione non presente" |
| `DistributoreTest` | `testValoriNonValidi()` | `11` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |
| `DistributoreTest` | `testGetAccessibileFalse()` | `12` | Test per verificare che un valore _false_ passato all'attributo `accessibile` rimanga _false_ |
| `OstacoloTest` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `OstacoloTest` | `testNomeNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `nome` diventi "Nome non specificato" |
| `OstacoloTest` | `testNomeVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `nome` diventi "Nome non specificato" |
| `OstacoloTest` | `testTipoOstacoloNull()` | `4` | Test per verificare che un valore _null_ passato all'attributo `tipo` diventi OGGETTO_INGOMBRANTE |
| `OstacoloTest` | `testDescrizioneNull()` | `5` | Test per verificare che un valore _null_ passato all'attributo `descrizione` diventi "Descrizione non presente" |
| `OstacoloTest` | `testDescrizioneVuoto()` | `6` | Test per verificare che una stringa vuota passata all'attributo `descrizione` diventi "Descrizione non presente" |
| `OstacoloTest` | `testPathFotoNull()` | `7` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Descrizione non presente" |
| `OstacoloTest` | `testPathFotoVuoto()` | `8` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Descrizione non presente" |
| `OstacoloTest` | `testValoriNonValidi()` | `9` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |
| `PuntoDiIngressoTest` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `PuntoDiIngressoTest` | `testNomeNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `nome` diventi "Nome non specificato" |
| `PuntoDiIngressoTest` | `testNomeVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `nome` diventi "Nome non specificato" |
| `PuntoDiIngressoTest` | `testDescrizioneNull()` | `4` | Test per verificare che un valore _null_ passato all'attributo `descrizione` diventi "Descrizione non presente" |
| `PuntoDiIngressoTest` | `testDescrizioneVuoto()` | `5` | Test per verificare che una stringa vuota passata all'attributo `descrizione` diventi "Descrizione non presente" |
| `PuntoDiIngressoTest` | `testPathFotoNull()` | `6` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Descrizione non presente" |
| `PuntoDiIngressoTest` | `testPathFotoVuoto()` | `7` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Descrizione non presente" |
| `PuntoDiIngressoTest` | `testEdificioNull()` | `8` | Test per verificare che un valore _null_ passato all'attributo `edificio` diventi "Edificio non specificato" |
| `PuntoDiIngressoTest` | `testEdificioVuoto()` | `9` | Test per verificare che una strinva vuota passata all'attributo `edificio` diventi "Edificio non specificato" |
| `PuntoDiIngressoTest` | `testValoriNonValidi()` | `10` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |
| `StanzaTest` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `StanzaTest` | `testNomeNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `nome` diventi "Nome non specificato" |
| `StanzaTest` | `testNomeVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `nome` diventi "Nome non specificato" |
| `StanzaTest` | `testCapacitaNegativa()` | `4` | Test per verificare che un valore negativo passato all'attributo `posti` diventi 0 |
| `StanzaTest` | `testDescrizioneNull()` | `5` | Test per verificare che un valore _null_ passato all'attributo `descrizione` diventi "Descrizione non presente" |
| `StanzaTest` | `testDescrizioneVuoto()` | `6` | Test per verificare che una stringa vuota passata all'attributo `descrizione` diventi "Descrizione non presente" |
| `StanzaTest` | `testTipoStanzaNull()` | `7` | Test per verificare che un valore _null_ passato all'attributo `tipoStan` diventi AULA |
| `StanzaTest` | `testPathPercorsoNull()` | `8` | Test per verificare che un valore _null_ passato all'attributo `pathPercorso` diventi "Descrizione non presente" |
| `StanzaTest` | `testPathPercorsoVuoto()` | `9` | Test per verificare che una stringa vuota passata all'attributo `pathPercorso` diventi "Descrizione non presente" |
| `StanzaTest` | `testPathFotoNull()` | `10` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Descrizione non presente" |
| `StanzaTest` | `testPathFotoVuoto()` | `11` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Descrizione non presente" |
| `StanzaTest` | `testValoriNonValidi()` | `12` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |

### 2.3. Copertura dei test

La copertura del codice del backend è pari a 64.3%.

<img width="734" height="40" alt="image" src="https://github.com/user-attachments/assets/583f0bff-0b44-4f17-acfc-48006e909a6e" />

## 3. Testing del DataBase

Il modulo sqlite rappresenta il livello di persistenza dati dell'applicazione AccessiBG. Questa documentazione descrive la metodologia di testing unitario adottata, che si basa sull'uso di database SQLite in-memory senza dipendenze da framework Spring Boot.

### 3.1. Organizzazione del package

I test sono organizzati parallelamente al codice sorgente nella cartella `src/test/java`.

```text
AccessiBG_sqlite/
└── src/
    └── test
        └── java
             └── gestione_db/           
               ├── CreateTableTest.java
               └── InsertInDBTest.java
```
## 3.2. Casi di test con JUnit

 `gestione_db` 
| **Componente testato** | **Nome Test**                   | **N.Test** | **Test Effettuato** |
|-|-|-|-|
| `CreateTable`          | `testCreateAllTables()`         | `1`        | Test per verificare che vengano create tutte e 8 le tabelle dello schema|
| `CreateTable`          | `testIdempotency()`             | `2`        | Test per verificare che l'esecuzione multipla di `createTable()` non generi grazie a `IF NOT EXISTS` |
| `CreateTable`          | `testSedePrimaryKey()`          | `3`        | Test per verificare il vincolo PRIMARY KEY sulla tabella `sede` (inserimento OK e duplicato KO)             |
| `CreateTable`          | `testEdificioForeignKey()`      | `4`        | Test per verificare il vincolo FOREIGN KEY da `edificio` verso `sede`                                       |
| `InsertInDB`           | `testInsRecordSedi()`           | `1`        | Test per verificare l'inserimento corretto delle 6 sedi                                                     |
| `InsertInDB`           | `testInserimentoCompleto()`     | `2`        | Test per verificare l'inserimento sequenziale di tutte le entità rispettando le dipendenze FK               |
| `InsertInDB`           | `testIdempotenza()`             | `3`        | Test per verificare che inserimenti multipli non creino duplicati grazie a `ON CONFLICT DO NOTHING`         |
| `InsertInDB`           | `testIntegritaReferenziale()`   | `4`        | Test per verificare che tutte le foreign key puntino a record esistenti                                     |

### 3.3. Copertura dei test

La copertura del codice del frontend è pari a 96%.

<img width="742" height="19" alt="image" src="https://github.com/user-attachments/assets/73cd9002-c218-45dc-a7ae-8559ed7bdcd8" />

