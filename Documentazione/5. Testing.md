## Organizzazione della documentazione



### Software Testing (Cap.13)



* PUO’ avere un documento di plan per l’attività di test;
* DEVE contenere dei casi di test di unità implementati con la loro descrizione nel documento;
* DOVREBBE avere qualche misura di copertura per i casi di test;
* *Documentazione*: Documentare i test in un documento.





---





# Software Testing

## Indice del documento

1. [**1. Testing del Frontend**](#1-testing-del-frontend)
    * 1.1. [**Organizzazione del package**](#11-organizzazione-del-package)
    * 1.2. [**Strumenti utilizzati**](#12-strumenti-utilizzati)
    * 1.3. [**JUnit**](#13-junit)
    * 1.4. [**Casi di test con JUnit**](#14-casi-di-test-con-junit)
    * 1.5. [**L'utilizzo di Playwright**](#15-lutilizzo-di-playwright)
    * 1.6. [**Come avviare i test di Playwright**](#16-come-avviare-i-test-di-playwright)
    * 1.7. [**Casi di test con Playwright**](#17-casi-di-test-con-playwright)
    * 1.8. [**Copertura dei test**](#18-copertura-dei-test)
2. [**2. Testing del Backend**](#2-testing-del-backend)
    * 2.1. [**Organizzazione del package**](#21-organizzazione-del-package)
    * 2.2. [**Strumenti utilizzati**](#22-strumenti-utilizzati)
    * 2.3. [**JUnit**](#23-junit)
    * 2.4. [**Casi di test con JUnit**](#24-casi-di-test-con-junit)
    * 2.5. [**Copertura dei test**](#25-copertura-dei-test)
3. [**3. Testing del Frontend**](#3-testing-del-frontend)
    * 3.1. [**Organizzazione del package**](#31-organizzazione-del-package)
    * 3.2. [**Strumenti utilizzati**](#32-strumenti-utilizzati)
    * 3.3. [**JUnit**](#33-junit)
    * 3.4. [**Casi di test con JUnit**](#34-casi-di-test-con-junit)
    * 3.5. [**Copertura dei test**](#35-copertura-dei-test)      
## 1. Testing del Frontend

L'utilizzo del framework di Vaadin ha influenzato la fase di testing siccome con JUnit puro la maggior parte del codice non poteva essere coperto ed eventuali bug potevano non essere scoperti, per esempio alcuni bug non potevano essere individuati a causa di impostazioni di sistema della macchina che veniva utilizzata per il testing.
Per risolvere questo problema il team ha consultato la documentazione fornita dal sito ufficiale di Vaadin (https://vaadin.com/docs/v24/flow/testing) e ha deciso l'utilizzo di PlayWright integrato con JUnit, una libreria Open-Source per il testing sviluppata da Microsoft [vedi Sezione 1.2.3](#lutilizzo-di-playwright).


### 1.1. Organizzazione del package

I test sono organizzati parallelamente al codice sorgente nella cartella `src/test/java`.

```text
src
└── test
    └── java
        └── it
            └── unibg
                └── accessibilita
                    ├── base
                    │   └── ui
                    │       └── component
                    │         ├── AppFooterTest.java
                    │         ├── AppTabsTest.java
                    │         ├── BoxTest.java
                    │         ├── ImageCardTest.java
                    │         └── ViewToolBarTest.java
                    |             ...
                    |
                     └── e2e
                        ├── BaseE2ETest.java  
                        ├── component
                        │   └── ToggleThemeButtonIT.java
                        └── views
                            └── HomeViewIT.java
                            └── EdificiViewIT.java
                              ...
                            
   
```
### 1.2. Strumenti utilizzati

Per garantire la copertura completa del software, sono stati adottati due livelli di astrazione distinti. Utilizzando insieme [Junit](#ljunit) e [Playwright](#playwright), si possono rilevare sia errori logici nel codice che errori di visualizzazione e interazione del utente con il browser. 

### 1.3. JUnit

Il testing tramite JUnit si prefigge come obiettivo la validità della logica interna delle classi Java. Nella fase di verifica l'oggetto viene istanziato direttamente, i relativi metodi vengono interpellati e si controlla che lo stato interno o l'esito del metodo siano quello atteso (es.: calcolo di date, manipolazione di stringhe, logica condizionale).

## 1.4. Casi di test con JUnit

 `it.unibg.accessibilita.base.ui.component` 

|**Componente testato**| **Nome Test** | **N.Test**|**Test Effettuato**|
|-|-|-|-|
| `AppFooterTest` | `deveMostrareTestoeAnnoCorrente()` | `1` | Test per verificare che il testo sia visualizzato correttamente |
| `ImageCardTest` | `noUrl_MostraIcona()` | `1` | Test per verificare quando url == null mostra una icona; |
| `ImageCardTest` | `conUrlValido_MostraImmagine()` | `2` | Test per verificare se compare un immagine quando è presente un url |
| `ImageCardTest` | `conUrlNonValido_MostraIcona()` |`3` | Test per verificare che se l'estensione dell'url non è valida compare una icona |
| `BoxTest` | `boxConTitolo_CreaTitolo()` | `1` | Test per verificare che un Box con titolo viene creato correttamente |
| `BoxTest` | `boxSenzaTitolo_DeveEssereVuoto()` | `2` | Test per verificare che se titolo==null il Box viene inizializzato vuoto| 
| `BoxTest` | `addInfo_AggiungeRigaInfo()` | `3` | Test per verificare se viene aggiunto correnttamente il testo in una riga |
| `BoxTest` | `addParagrafo_TestoCorretto()` | `4` | Test per verificare se viene aggiunto il paragrafo con il testo corretto | 
| `GoogleMapCardTest` | `creazioneMappa()` | `1` | Test per verificare se la mappa viene creata| 
| `ViewToolbarTest` | `nonvuota()` | `1` | Test per verificare che la toolbar non sia vuota | 
| `ViewTollbarTest` | `creaComponente()` | `2` | Test per verificare che viene creato il componente dentro la ViewToolbar |
| `SelettorePianoTest` | `selettore_NonVuoto()` | `1` | Test per verificare che un selettore non sia vuoto
| `MappaInterattivaTest` | ` mappa_NonVuota()` | `1` | Test per verificare che la mappa non sia vuota
| `SelettorePianoTest` | `selettore_NonVuoto()` | `1` | Test per verificare che un selettore non sia vuoto
| `DialogMappaTest` | `dialogOstacolo_nonVuoto()` | `1` | Test per verificare che un dialog di un Ostacolo non sia vuoto
| `DialogMappaTest` | `dialogElemento_nonVuoto()` | `2` | Test per verificare che un dialog di un Elemento che non sia un ostacolo, non sia vuoto
| `AppButtonTest` | `bottone_nonVuoto()` | `1` | Test per verificare che un bottone non sia vuoto

### 1.5. L'utilizzo di Playwright

L'integrazione di Playwringht con JUnit è stata necessaria per eliminare gli ostacoli dei test unitari nell'ambiente Vaadin, infatti, Playwright verifica le possibili interazione che un utente esegue nel browser e ne verifica la funzionalità a livello visivo. Inoltre questo strumento permette di testare  l'interafaccia su diversi browser tra cui Chromium, Firefox e WebKit, dove ogni test viene eseguito in modo indipendente e non influenzato da sessioni precendenti.

### 1.6. Come avviare i test di Playwright

**Nota 1**: Playwright installerà, in maniera automatica al primo avvio, delle versioni *hermetic* (isolate) di Chromium, Firefox e WebKit.

**Nota 2**: Non necessita di installazione di nessun plugin oltre a JUnit.

**Passo 1**: Avviare l'applicazione.
`Run As` ---> `Java Application`

**Passo 2**: Avviare il test desiderato con Junit.
`Run As` ---> `JUnit Test`

*Al primo avvio verranno installati le versioni isolate dei sopracitati browser*:
apparirà quindi sullo schermo una scheda del browser utilizato per il testing dell'elemento selezionato.

**Passo 3**: Sulla view in Eclipse dedicata a JUnit apparirà una barra rossa per indicare il *Fail* del test o una barra verde che ne indica il *Successo*.

### 1.7. Casi di test con Playwright

`it.unibg.accessibilita.e2e.components`

|**Componente testato**| **Nome Test** | **N.Test**|**Test Effettuato**|
|-|-|-|-|
`ThemeToggleButtonIT` | `clickCambiaTema()` | `1` | Test per verificare il cambio di tema da Scuro o Chiaro a livello visivo |
`SelettorePianoIT` | `selezionePiano_corettaNavigazione()` | `1` | Test per verificare la corretta navigazione |
`DialogoMappaIT` | `dialogOstacolo_mostraFoto()` | `1` | Test che verifica che cliccando su un ostacolo viene mostrato un dialog con un messaggio di attenzione e una icona di pericolo |
`DialogoMappaIT` | `dialogStanza_MostraFoto()` | `2` | Test che verifica che cliccando un elemento generico questo ha una foto |
`DialogoMappaIT` | `dialogDistributore_MostraFoto()` | `3` | Test che verifica che cliccando un distributore generico questo ha una foto |

`it.unibg.accessibilita.e2e.views`

|**Componente testato**| **Nome Test** | **N.Test**|**Test Effettuato**|
|-|-|-|-|
`HomeViewIT` | `homePage_caricaCorrettamente()` | `1` | Test per verificare che l'homepage viene caricata correttamente
`HomeViewIT` | `grigliaContieneImmagini()` | `2` | Test per verificare che le ImageCard vengono visualizzate correttamente
`HomeViewIT` | `navigazioneClickImageCard()` | `3` | Test per la corretta navigazione alla views successiva tramite ImageCard
`EdificiViewIT` | `edificiView_CaricaCorrettamente()` | `1` | Test per verificare che EdificiView viene caricata correttamente
`EdificiViewIT` | `cambiaTabCorrettamente()` | `2` | Test per verificare che la tab viene cambiata correttamente quando viene cliccata
`MainLayoutIT` | `menuTendina_Presente()` | `1` | Test per verificare che il menu a tendina sia presente
`MainLayoutIT` | `navigaAllaHome()` | `2` | Test per verificare che cliccando sul pulsante home si torni alla home
`SediViewIT` | `sediView_CaricaCorrettamente` | `1` | Test per verificare che la SediView viene caricata correttamente
`SediViewIT` | `cambiaTabCorrettamente` | `2` | T Test per verificare che la tab viene cambiata correttamente quando viene cliccata
`SediViewIT` | `cambiaTabEClickImmagineCorrettamente` | `3` | Test per verificare che la tab viene cambiata correttamente
`StrutturaViewIT` | `strutturaViewCaricaCorrettamente()` | `1` | Test oer verificare che la view viene caricata correttamente

### 1.8. Copertura dei test 

Per calcolare la copertura totale del codice comprendendo anche i casi di test eseguiti con Playwright, è stato necessario l'utilizzo di JoCoCo, una libreria di copertura del codice creata dal team di EclEmmma
Per avviare tutti i test:
- Eseguire `.\mvnw clean verify`
In seguito per vedere la copertura del codice:
- Andare nella cartella in cui è stata salvata la Repository;
- Nella `accessibilita-unibg` -> `temp` -> `site` -> `jococo` -> `index.html`

Analizzando i dati:
La copertura del codice del frontend è pari al 95%. Mentre la copertura dei branch è pari al 68%

<img width="1102" height="178" alt="coveregegeneralepng" src="https://github.com/user-attachments/assets/850d8843-f471-43d5-853a-5cf60986d3ea" />


La copertura del  `it.unibg.accessibilita.base.ui.views` è pari al 97% mentre la copertura dei branch è pari al 68%

<img width="1000" height="194" alt="coveregeviews" src="https://github.com/user-attachments/assets/f9010047-29c9-446b-a249-1301c135548e" />

La copertura del `it.unibg.accessibilita.base.ui.component` è pari al 95%, mentre la copertura dei branch è pari al 79%.

<img width="1011" height="334" alt="coveregecomponenti" src="https://github.com/user-attachments/assets/450e9cc9-d0d5-4e69-819f-a34d64bd2f25" />

 ## 2. Testing del Backend

### 2.1. Organizzazione del package

I test sono organizzati parallelamente al codice sorgente nella cartella `src/test/java`.

```text
src
└── test
    └── java
        └── struttura
            ├── EdificioTest.java
            ├── PianoTest.java
            └── SedeTest.java
```
### 2.2. Strumenti utilizzati

Per garantire la copertura completa del software, è stato utilizzato [Junit](#ljunit). 

### 2.3. JUnit

Il testing tramite JUnit si prefigge come obiettivo la validità della logica interna delle classi Java. Nella fase di verifica l'oggetto viene istanziato direttamente, i relativi metodi vengono interpellati e si controlla che lo stato interno o l'esito del metodo siano quello atteso (es.: calcolo di date, manipolazione di stringhe, logica condizionale).

## 2.4. Casi di test con JUnit

 `struttura` 

|**Componente testato**| **Nome Test** | **N.Test**|**Test Effettuato**|
|-|-|-|-|
| `Edificio` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `Edificio` | `testNomeNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `nome` diventi "Nome non specificato" |
| `Edificio` | `testNomeVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `nome` diventi "Nome non specificato" |
| `Edificio` | `testIndirizzoNull()` |`4` | Test per verificare che un valore _null_ passato all'attributo `indirizzo` diventi "Indirizzo non disponibile" |
| `Edificio` | `TestIndirizzoVuoto()` | `5` | Test per verificare che una stringa vuota passata all'attributo `indirizzo` diventi "Indirizzo non disponibile" |
| `Edificio` | `testOrarioNull()` | `6` | Test per verificare che un valore _null_ passato all'attributo `orario` diventi "Orario non specificato" | 
| `Edificio` | `testOrarioVuoto()` | `7` | Test per verificare che una stringa vuota passata all'attributo `orario` diventi "Orario non specificato" |
| `Edificio` | `testPathFotoNull()` | `8` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Foto non disponibile" | 
| `Edificio` | `testPathFotoVuoto()` | `9` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Foto non disponibile" | 
| `Edificio` | `testFacoltaNull()` | `10` | Test per verificare che un valore _null_ passato all'attributo `facolta` diventi "Facoltà non specificata" | 
| `Edificio` | `testFacoltaVuoto()` | `11` | Test per verificare che una stringa vuota passata all'attributo `facolta` diventi "Facoltà non specificata" |
| `Edificio` | `testValoriNonValidi()` | `12` | Test per verificare che tutti i controlli presenti nel costruttore agiscano insieme |
| `Piano` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `Piano` | `testDescrizioneNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `descrizione` diventi "Descrizione non presente" |
| `Piano` | `testDescrizioneVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `descrizione` diventi "Descrizione non presente" |
| `Piano` | `testPathFotoNull()` | `4` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Descrizione non presente" |
| `Piano` | `testPathFotoVuoto()` | `5` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Descrizione non presente" |
| `Piano` | `testEdificioNull()` | `6` | Test per verificare che un valore _null_ passato all'attributo `edificio` diventi "Edificio non specificato" |
| `Piano` | `testEdificioVuoto()` | `7` | Test per verificare che una strinva vuota passata all'attributo `edificio` diventi "Edificio non specificato" |
| `Piano` | `testValoriNonValidi()` | `8` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |
| `Sede` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `Sede` | `testFacoltaNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `facolta` diventi "Facoltà non specificata" |
| `Sede` | `testFacoltaVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `facolta` diventi "Facoltà non specificata" |
| `Sede` | `testIndirizzoNull()` | `4` | Test per verificare che un valore _null_ passato all'attributo `indirizzo` diventi "Indirizzo non disponibile" |
| `Sede` | `TestIndirizzoVuoto()` | `5` | Test per verificare che una stringa vuota passata all'attributo `indirizzo` diventi "Indirizzo non disponibile" |
| `Sede` | `testPathFotoNull()` | `6` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Foto non disponibile" |
| `Sede` | `testPathFotoVuoto()` | `7` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Foto non disponibile" |
| `Sede` | `testOrarioAperturaNull()` | `8` | Test per verificare che un valore _null_ passato all'attributo `orarioApertura` diventi "Orario non specificato" |
| `Sede` | `testOrarioAperturaVuoto()` | `9` | Test per verificare che una stringa vuota passata all'attributo `orarioApertura` diventi "Orario non specificato" |
| `Sede` | `testPathMapsNull()` | `10` | Test per verificare che un valore _null_ passato all'attributo `pathMaps` diventi "Mappa non disponibile" |
| `Sede` | `testPathMapsVuoto()` | `11` | Test per verificare che una stringa vuota passata all'attributo `pathMaps` diventi "Mappa non disponibile" |
| `Sede` | `testValoriNonValidi()` | `12` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |
| `Parcheggio` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `Parcheggio` | `testNomeNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `nome` diventi "Nome non specificato" |
| `Parcheggio` | `testNomeVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `nome` diventi "Nome non specificato" |
| `Parcheggio` | `testTipoParcheggioNull()` | `4` | Test per verificare che un valore _null_ passato all'attributo `tipo` diventi LIBERO |
| `Parcheggio` | `TestIndirizzoNull()` | `5` | Test per verificare che un valore _null_ passato all'attributo `indirizzo` diventi "Indirizzo non disponibile" |
| `Parcheggio` | `TestIndirizzoVuoto()` | `6` | Test per verificare che una stringa vuota passata all'attributo `indirizzo` diventi "Indirizzo non disponibile" |
| `Parcheggio` | `testFacoltaNull()` | `7` | Test per verificare che un valore _null_ passato all'attributo `facolta` diventi "Facoltà non specificata" |
| `Parcheggio` | `testFacoltaVuoto()` | `8` | Test per verificare che una stringa vuota passata all'attributo `facolta` diventi "Facoltà non specificata" |
| `Parcheggio` | `testPathFotoNull()` | `9` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Foto non disponibile" |
| `Parcheggio` | `testPathFotoVuoto()` | `10` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Foto non disponibile" |
| `Parcheggio` | `testValoriNonValidi()` | `11` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |
| `Distributore` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `Distributore` | `testNomeNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `nome` diventi "Nome non specificato" |
| `Distributore` | `testNomeVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `nome` diventi "Nome non specificato" |
| `Distributore` | `testDescrizioneNull()` | `4` | Test per verificare che un valore _null_ passato all'attributo `descrizione` diventi "Descrizione non presente" |
| `Distributore` | `testDescrizioneVuoto()` | `5` | Test per verificare che una stringa vuota passata all'attributo `descrizione` diventi "Descrizione non presente" |
| `Distributore` | `testTipoDistributoreNull()` | `6` | Test per verificare che un valore _null_ passato all'attributo `tipo` diventi SNACK_E_BEVANDE |
| `Distributore` | `testPathFotoNull()` | `7` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Descrizione non presente" |
| `Distributore` | `testPathFotoVuoto()` | `8` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Descrizione non presente" |
| `Distributore` | `testPathPercorsoNull()` | `9` | Test per verificare che un valore _null_ passato all'attributo `pathPercorso` diventi "Descrizione non presente" |
| `Distributore` | `testPathPercorsoVuoto()` | `10` | Test per verificare che una stringa vuota passata all'attributo `pathPercorso` diventi "Descrizione non presente" |
| `Distributore` | `testValoriNonValidi()` | `11` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |
| `Ostacolo` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `Ostacolo` | `testNomeNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `nome` diventi "Nome non specificato" |
| `Ostacolo` | `testNomeVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `nome` diventi "Nome non specificato" |
| `Ostacolo` | `testTipoOstacoloNull()` | `4` | Test per verificare che un valore _null_ passato all'attributo `tipo` diventi OGGETTO_INGOMBRANTE |
| `Ostacolo` | `testDescrizioneNull()` | `5` | Test per verificare che un valore _null_ passato all'attributo `descrizione` diventi "Descrizione non presente" |
| `Ostacolo` | `testDescrizioneVuoto()` | `6` | Test per verificare che una stringa vuota passata all'attributo `descrizione` diventi "Descrizione non presente" |
| `Ostacolo` | `testPathFotoNull()` | `7` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Descrizione non presente" |
| `Ostacolo` | `testPathFotoVuoto()` | `8` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Descrizione non presente" |
| `Ostacolo` | `testValoriNonValidi()` | `9` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |
| `PuntoDiIngresso` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `PuntoDiIngresso` | `testNomeNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `nome` diventi "Nome non specificato" |
| `PuntoDiIngresso` | `testNomeVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `nome` diventi "Nome non specificato" |
| `PuntoDiIngresso` | `testDescrizioneNull()` | `4` | Test per verificare che un valore _null_ passato all'attributo `descrizione` diventi "Descrizione non presente" |
| `PuntoDiIngresso` | `testDescrizioneVuoto()` | `5` | Test per verificare che una stringa vuota passata all'attributo `descrizione` diventi "Descrizione non presente" |
| `PuntoDiIngresso` | `testPathFotoNull()` | `6` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Descrizione non presente" |
| `PuntoDiIngresso` | `testPathFotoVuoto()` | `7` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Descrizione non presente" |
| `PuntoDiIngresso` | `testEdificioNull()` | `8` | Test per verificare che un valore _null_ passato all'attributo `edificio` diventi "Edificio non specificato" |
| `PuntoDiIngresso` | `testEdificioVuoto()` | `9` | Test per verificare che una strinva vuota passata all'attributo `edificio` diventi "Edificio non specificato" |
| `PuntoDiIngresso` | `testValoriNonValidi()` | `10` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |
| `Stanza` | `testCostruttoreValoriValidi()` | `1` | Test per verificare che i valori passati vengono assegnati correttamente |
| `Stanza` | `testNomeNull()` | `2` | Test per verificare che un valore _null_ passato all'attributo `nome` diventi "Nome non specificato" |
| `Stanza` | `testNomeVuoto()` | `3` | Test per verificare che una stringa vuota passata all'attributo `nome` diventi "Nome non specificato" |
| `Stanza` | `testCapacitaNegativa()` | `4` | Test per verificare che un valore negativo passato all'attributo `posti` diventi 0 |
| `Stanza` | `testDescrizioneNull()` | `5` | Test per verificare che un valore _null_ passato all'attributo `descrizione` diventi "Descrizione non presente" |
| `Stanza` | `testDescrizioneVuoto()` | `6` | Test per verificare che una stringa vuota passata all'attributo `descrizione` diventi "Descrizione non presente" |
| `Stanza` | `testTipoStanzaNull()` | `7` | Test per verificare che un valore _null_ passato all'attributo `tipoStan` diventi AULA |
| `Stanza` | `testPathPercorsoNull()` | `8` | Test per verificare che un valore _null_ passato all'attributo `pathPercorso` diventi "Descrizione non presente" |
| `Stanza` | `testPathPercorsoVuoto()` | `9` | Test per verificare che una stringa vuota passata all'attributo `pathPercorso` diventi "Descrizione non presente" |
| `Stanza` | `testPathFotoNull()` | `10` | Test per verificare che un valore _null_ passato all'attributo `pathFoto` diventi "Descrizione non presente" |
| `Stanza` | `testPathFotoVuoto()` | `11` | Test per verificare che una stringa vuota passata all'attributo `pathFoto` diventi "Descrizione non presente" |
| `Stanza` | `testValoriNonValidi()` | `12` | Test per verificare che tutti i controlli nel costruttore agiscano insieme |


### 2.8. Copertura dei test \[OCCUPARSENE\]

La copertura del codice del frontend è pari a .


## 3. Testing del Data

L'utilizzo del framework di Vaadin ha influenzato la fase di testing siccome con JUnit puro la maggior parte del codice non poteva essere coperto ed eventuali bug potevano non essere scoperti, per esempio alcuni bug non potevano essere individuati a causa di impostazioni di sistema della macchina che veniva utilizzata per il testing.
Per risolvere questo problema il team ha consultato la documentazione fornita dal sito ufficiale di Vaadin (https://vaadin.com/docs/v24/flow/testing) e ha deciso l'utilizzo di PlayWright integrato con JUnit, una libreria Open-Source per il testing sviluppata da Microsoft [vedi Sezione 1.2.3](#lutilizzo-di-playwright).


### 3.1. Organizzazione del package

I test sono organizzati parallelamente al codice sorgente nella cartella `src/test/java`.

```text
src
└── test
    └── java
        └── it
            └── unibg
                └── accessibilita
                    ├── base
                    │   └── ui
                    │       └── component
                    │       |   ├── AppFooterTest.java
                    │       │   ├── AppTabsTest.java
                    │       │   ├── BoxTest.java
                    │       │   ├── ImageCardTest.java
                    │       │   └── ViewToolBarTest.java
                    |       | 
                    |       |
                    |       └── views
                    |
                     └── e2e
                        ├── BaseE2ETest.java  
                        ├── component
                        │   └── ToggleThemeButtonIT.java
                        └── views
                            └── HomeViewIT.java
```
### 3.2. Strumenti utilizzati

Per garantire la copertura completa del software, sono stati adottati due livelli di astrazione distinti. Utilizzando insieme [Junit](#ljunit) e [Playwright](#playwright), si possono rilevare sia errori logici nel codice che errori di visualizzazione e interazione del utente con il browser. 

### 3.3. JUnit

Il testing tramite JUnit si prefigge come obiettivo la validità della logica interna delle classi Java. Nella fase di verifica l'oggetto viene istanziato direttamente, i relativi metodi vengono interpellati e si controlla che lo stato interno o l'esito del metodo siano quello atteso (es.: calcolo di date, manipolazione di stringhe, logica condizionale).

## 3.4. Casi di test con JUnit

 `it.unibg.accessibilita.base.ui.component` 

|**Componente testato**| **Nome Test** | **N.Test**|**Test Effettuato**|
|-|-|-|-|
| `AppFooter` | `deveMostrareTestoeAnnoCorrente()` | `1` | Test per verificare che il testo sia visualizzato correttamente |
| `ImageCard` | `noUrl_MostraIcona()` | `1` | Test per verificare quando url == null mostra una icona; |
| `ImageCard` | `conUrlValido_MostraImmagine()` | `2` | Test per verificare se compare un immagine quando è presente un url |
| `ImageCard` | `conUrlNonValido_MostraIcona()` |`3` | Test per verificare che se l'estensione dell'url non è valida compare una icona |
| `Box` | `boxConTitolo_CreaTitolo()` | `1` | Test per verificare che un Box con titolo viene creato correttamente |
| `Box` | `boxSenzaTitolo_DeveEssereVuoto()` | `2` | Test per verificare che se titolo==null il Box viene inizializzato vuoto| 
| `Box` | `addInfo_AggiungeRigaInfo()` | `3` | Test per verificare se viene aggiunto correnttamente il testo in una riga |
| `Box` | `addParagrafo_TestoCorretto()` | `4` | Test per verificare se viene aggiunto il paragrafo con il testo corretto | 
| `GoogleMapCard` | `creazioneMappa()` | `1` | Test per verificare se la mappa viene creata| 
| `ViewToolbar` | `nonvuota()` | `1` | Test per verificare che la toolbar non sia vuota | 
| `ViewTollbar` | `creaComponente()` | `2` | Test per verificare che viene creato il componente dentro la ViewToolbar |

### 3.5. L'utilizzo di Playwright

L'integrazione di Playwringht con JUnit è stata necessaria per eliminare gli ostacoli dei test unitari nell'ambiente Vaadin, infatti, Playwright verifica le possibili interazione che un utente esegue nel browser e ne verifica la funzionalità a livello visivo. Inoltre questo strumento permette di testare  l'interafaccia su diversi browser tra cui Chromium, Firefox e WebKit, dove ogni test viene eseguito in modo indipendente e non influenzato da sessioni precendenti.

### 3.6. Come avviare i test di Playwright

**Nota 1**: Playwright installerà, in maniera automatica al primo avvio, delle versioni *hermetic* (isolate) di Chromium, Firefox e WebKit.

**Nota 2**: Non necessita di installazione di nessun plugin oltre a JUnit.

**Passo 1**: Avviare l'applicazione.
`Run As` ---> `Java Application`

**Passo 2**: Avviare il test desiderato con Junit.
`Run As` ---> `JUnit Test`

*Al primo avvio verranno installati le versioni isolate dei sopracitati browser*:
apparirà quindi sullo schermo una scheda del browser utilizato per il testing dell'elemento selezionato.

**Passo 3**: Sulla view in Eclipse dedicata a JUnit apparirà una barra rossa per indicare il *Fail* del test o una barra verde che ne indica il *Successo*.

### 3.7. Casi di test con Playwright\

`it.unibg.accessibilita.e2e.components`

|**Componente testato**| **Nome Test** | **N.Test**|**Test Effettuato**|
|-|-|-|-|
 `ThemeToggleButtonIT` | `clickCambiaTema()` | `1` | Test per verificare il cambio di tema da Scuro o Chiaro a livello visivo |

`it.unibg.accessibilita.e2e.views`

|**Componente testato**| **Nome Test** | **N.Test**|**Test Effettuato**|
|-|-|-|-|
`HomeViewIT` | `homePage_caricaCorrettamente()` | `1` | Test per verificare che l'homepage viene caricata correttamente
`HomeViewIT` | `grigliaContieneImmagini()` | `2` | Test per verificare che le ImageCard vengono visualizzate correttamente
`HomeViewIT` | `navigazioneClickImageCard()` | `3` | Test per la corretta navigazione alla views successiva tramite ImageCard

### 3.8. Copertura dei test

La copertura del codice del frontend è pari a . I test di Playwringht non vengono rilevati da Eclemma e non influiranno sulla 
